"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.expect = expect;
exports.assert = assert;
function expect(cond, message, offendingSyntax, rest) {
  if (!cond) {
    let ctx = "";
    if (rest) {
      ctx = rest.slice(0, 20).map(s => {
        let val = s.isDelimiter() ? "( ... )" : s.val();
        if (s === offendingSyntax) {
          return "__" + val + "__";
        }
        return val;
      }).join(" ");
    }
    throw new Error("[error]: " + message + "\n" + ctx);
  }
}

function assert(cond, message) {
  if (!cond) {
    throw new Error("[assertion error]: " + message);
  }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lcnJvcnMuanMiXSwibmFtZXMiOlsiZXhwZWN0IiwiYXNzZXJ0IiwiY29uZCIsIm1lc3NhZ2UiLCJvZmZlbmRpbmdTeW50YXgiLCJyZXN0IiwiY3R4Iiwic2xpY2UiLCJtYXAiLCJzIiwidmFsIiwiaXNEZWxpbWl0ZXIiLCJqb2luIiwiRXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7O1FBQWdCQSxNLEdBQUFBLE07UUFnQkFDLE0sR0FBQUEsTTtBQWhCVCxTQUFTRCxNQUFULENBQWdCRSxJQUFoQixFQUFzQkMsT0FBdEIsRUFBK0JDLGVBQS9CLEVBQWdEQyxJQUFoRCxFQUFzRDtBQUMzRCxNQUFJLENBQUNILElBQUwsRUFBVztBQUNULFFBQUlJLE1BQU0sRUFBVjtBQUNBLFFBQUlELElBQUosRUFBVTtBQUNSQyxZQUFNRCxLQUFLRSxLQUFMLENBQVcsQ0FBWCxFQUFjLEVBQWQsRUFBa0JDLEdBQWxCLENBQXNCQyxLQUFLO0FBQy9CLFlBQUlDLE1BQU1ELEVBQUVFLFdBQUYsS0FBa0IsU0FBbEIsR0FBOEJGLEVBQUVDLEdBQUYsRUFBeEM7QUFDQSxZQUFJRCxNQUFNTCxlQUFWLEVBQTJCO0FBQ3pCLGlCQUFPLE9BQU9NLEdBQVAsR0FBYSxJQUFwQjtBQUNEO0FBQ0QsZUFBT0EsR0FBUDtBQUNELE9BTkssRUFNSEUsSUFORyxDQU1FLEdBTkYsQ0FBTjtBQU9EO0FBQ0QsVUFBTSxJQUFJQyxLQUFKLENBQVUsY0FBY1YsT0FBZCxHQUF3QixJQUF4QixHQUErQkcsR0FBekMsQ0FBTjtBQUNEO0FBQ0Y7O0FBRU0sU0FBU0wsTUFBVCxDQUFnQkMsSUFBaEIsRUFBc0JDLE9BQXRCLEVBQStCO0FBQ3BDLE1BQUksQ0FBQ0QsSUFBTCxFQUFXO0FBQ1QsVUFBTSxJQUFJVyxLQUFKLENBQVUsd0JBQXdCVixPQUFsQyxDQUFOO0FBQ0Q7QUFDRiIsImZpbGUiOiJlcnJvcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZXhwZWN0KGNvbmQsIG1lc3NhZ2UsIG9mZmVuZGluZ1N5bnRheCwgcmVzdCkge1xuICBpZiAoIWNvbmQpIHtcbiAgICBsZXQgY3R4ID0gXCJcIjtcbiAgICBpZiAocmVzdCkge1xuICAgICAgY3R4ID0gcmVzdC5zbGljZSgwLCAyMCkubWFwKHMgPT4ge1xuICAgICAgICBsZXQgdmFsID0gcy5pc0RlbGltaXRlcigpID8gXCIoIC4uLiApXCIgOiBzLnZhbCgpO1xuICAgICAgICBpZiAocyA9PT0gb2ZmZW5kaW5nU3ludGF4KSB7XG4gICAgICAgICAgcmV0dXJuIFwiX19cIiArIHZhbCArIFwiX19cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfSkuam9pbihcIiBcIik7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIltlcnJvcl06IFwiICsgbWVzc2FnZSArIFwiXFxuXCIgKyBjdHgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZCwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJbYXNzZXJ0aW9uIGVycm9yXTogXCIgKyBtZXNzYWdlKTtcbiAgfVxufVxuIl19