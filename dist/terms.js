"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isImportDeclaration = exports.isCompiletimeStatement = exports.isCompiletimeDeclaration = exports.isSyntaxDeclarationStatement = exports.isExportSyntax = exports.isParenthesizedExpression = exports.isFunctionWithName = exports.isFunctionTerm = exports.isSyntaxrecDeclaration = exports.isSyntaxDeclaration = exports.isEOF = exports.isVariableDeclarator = exports.isVariableDeclaration = exports.isSyntaxTemplate = exports.isTemplateElement = exports.isSwitchDefault = exports.isSwitchCase = exports.isSuper = exports.isSpreadElement = exports.isScript = exports.isFunctionDeclaration = exports.isFunctionBody = exports.isFormalParameters = exports.isDirective = exports.isCatchClause = exports.isBlock = exports.isPragma = exports.isWithStatement = exports.isWhileStatement = exports.isVariableDeclarationStatement = exports.isTryFinallyStatement = exports.isTryCatchStatement = exports.isThrowStatement = exports.isSwitchStatementWithDefault = exports.isSwitchStatement = exports.isReturnStatement = exports.isLabeledStatement = exports.isIfStatement = exports.isForStatement = exports.isForOfStatement = exports.isForInStatement = exports.isExpressionStatement = exports.isEmptyStatement = exports.isDoWhileStatement = exports.isDebuggerStatement = exports.isCompoundAssignmentExpression = exports.isContinueStatement = exports.isBreakStatement = exports.isBlockStatement = exports.isYieldGeneratorExpression = exports.isYieldExpression = exports.isUpdateExpression = exports.isThisExpression = exports.isTemplateExpression = exports.isStaticMemberExpression = exports.isUnaryExpression = exports.isObjectExpression = exports.isNewTargetExpression = exports.isNewExpression = exports.isIdentifierExpression = exports.isFunctionExpression = exports.isConditionalExpression = exports.isComputedMemberExpression = exports.isComputedAssignmentExpression = exports.isCallExpression = exports.isBinaryExpression = exports.isAssignmentExpression = exports.isArrowExpression = exports.isArrayExpression = exports.isLiteralStringExpression = exports.isLiteralRegExpExpression = exports.isLiteralNumericExpression = exports.isLiteralNullExpression = exports.isLiteralInfinityExpression = exports.isLiteralBooleanExpression = exports.isStaticPropertyName = exports.isComputedPropertyName = exports.isShorthandProperty = exports.isDataProperty = exports.isSetter = exports.isGetter = exports.isMethod = exports.isExportSpecifier = exports.isExportDefault = exports.isExport = exports.isExportFrom = exports.isExportAllFrom = exports.isImportSpecifier = exports.isImportNamespace = exports.isImport = exports.isModule = exports.isClassElement = exports.isClassDeclaration = exports.isClassExpression = exports.isBindingPropertyProperty = exports.isBindingPropertyIdentifier = exports.isObjectBinding = exports.isArrayBinding = exports.isBindingIdentifier = exports.isBindingWithDefault = undefined;

var _immutable = require("immutable");

var _ramda = require("ramda");

var R = _interopRequireWildcard(_ramda);

var _sweetSpec = require("sweet-spec");

var _sweetSpec2 = _interopRequireDefault(_sweetSpec);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

const attrName = a => a.attrName;

class Term {

  constructor(type, props) {
    let spec = _sweetSpec2.default.getDescendant(type);
    if (spec == null) {
      throw new Error(`Unknown term: ${ type }`);
    }
    this.type = type;
    this.loc = null;
    this.spec = spec;
    let propKeys = Object.keys(props);
    let fieldNames = spec.getAttributes().map(attrName);
    let diff = R.symmetricDifference(propKeys, fieldNames);
    if (diff.length !== 0) {
      throw new Error(`Unexpected properties for term ${ type }: ${ diff }`);
    }
    Object.assign(this, props);
  }

  extend(props) {
    let specAttrNames = this.spec.getAttributes().map(attrName);
    let newProps = R.pick(specAttrNames, this);

    let invalidAttrs = R.difference(Object.keys(props), specAttrNames);
    if (invalidAttrs.length > 0) {
      throw new Error(`Unexpected properties for term ${ this.type }: ${ invalidAttrs }`);
    }

    return new Term(this.type, Object.assign(newProps, props));
  }

  // TODO: remove
  gen() {
    let includeImports = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

    let next = {};
    for (let field of this.spec.getAttributes()) {
      if (this[field.attrName] == null) {
        next[field.attrName] = null;
      } else if (this[field.attrName] instanceof Term) {
        next[field.attrName] = this[field.attrName].gen(includeImports);
      } else if (_immutable.List.isList(this[field.attrName])) {
        let pred = includeImports ? R.complement(isCompiletimeStatement) : R.both(R.complement(isImportDeclaration), R.complement(isCompiletimeStatement));
        next[field.attrName] = this[field.attrName].filter(pred).map(term => term instanceof Term ? term.gen(includeImports) : term);
      } else {
        next[field.attrName] = this[field.attrName];
      }
    }
    return new Term(this.type, next);
  }

  // TODO: remove
  visit(f) {
    let next = {};
    for (let field of _sweetSpec2.default.getDescendant(this.type).getAttributes()) {
      if (this[field.attrName] == null) {
        next[field.attrName] = null;
      } else if (_immutable.List.isList(this[field.attrName])) {
        next[field.attrName] = this[field.attrName].map(field => field != null ? f(field) : null);
      } else {
        next[field.attrName] = f(this[field.attrName]);
      }
    }
    return this.extend(next);
  }

  // TODO: remove
  addScope(scope, bindings, phase, options) {
    return this.visit(term => {
      if (typeof term.addScope === 'function') {
        return term.addScope(scope, bindings, phase, options);
      }
      return term;
    });
  }

  // TODO: remove
  removeScope(scope, phase) {
    return this.visit(term => {
      if (typeof term.removeScope === 'function') {
        return term.removeScope(scope, phase);
      }
      return term;
    });
  }

  // TODO: this is very wrong
  lineNumber() {
    for (let field of _sweetSpec2.default.getDescendant(this.type).getAttributes()) {
      if (typeof this[field.attrName] && this[field.attrName].lineNumber === 'function') {
        return this[field.attrName].lineNumber();
      }
    }
  }

  setLineNumber(line) {
    let next = {};
    for (let field of _sweetSpec2.default.getDescendant(this.type).getAttributes()) {
      if (this[field.attrName] == null) {
        next[field.attrName] = null;
      } else if (typeof this[field.attrName].setLineNumber === 'function') {
        next[field.attrName] = this[field.attrName].setLineNumber(line);
      } else if (_immutable.List.isList(this[field.attrName])) {
        next[field.attrName] = this[field.attrName].map(f => f.setLineNumber(line));
      } else {
        next[field.attrName] = this[field.attrName];
      }
    }
    return new Term(this.type, next);
  }
}

exports.default = Term; // bindings

const isBindingWithDefault = exports.isBindingWithDefault = R.whereEq({ type: "BindingWithDefault" });
const isBindingIdentifier = exports.isBindingIdentifier = R.whereEq({ type: "BindingIdentifier" });
const isArrayBinding = exports.isArrayBinding = R.whereEq({ type: "ArrayBinding" });
const isObjectBinding = exports.isObjectBinding = R.whereEq({ type: "ObjectBinding" });
const isBindingPropertyIdentifier = exports.isBindingPropertyIdentifier = R.whereEq({ type: "BindingPropertyIdentifier" });
const isBindingPropertyProperty = exports.isBindingPropertyProperty = R.whereEq({ type: "BindingPropertyIdentifier" });

// class
const isClassExpression = exports.isClassExpression = R.whereEq({ type: "ClassExpression" });
const isClassDeclaration = exports.isClassDeclaration = R.whereEq({ type: "ClassDeclaration" });
const isClassElement = exports.isClassElement = R.whereEq({ type: "ClassElement" });

// modules
const isModule = exports.isModule = R.whereEq({ type: "Module" });
const isImport = exports.isImport = R.whereEq({ type: "Import" });
const isImportNamespace = exports.isImportNamespace = R.whereEq({ type: "ImportNamespace" });
const isImportSpecifier = exports.isImportSpecifier = R.whereEq({ type: "ImportSpecifier" });
const isExportAllFrom = exports.isExportAllFrom = R.whereEq({ type: "ExportAllFrom" });
const isExportFrom = exports.isExportFrom = R.whereEq({ type: "ExportFrom" });
const isExport = exports.isExport = R.whereEq({ type: "Export" });
const isExportDefault = exports.isExportDefault = R.whereEq({ type: "ExportDefault" });
const isExportSpecifier = exports.isExportSpecifier = R.whereEq({ type: "ExportSpecifier" });

// property definition
const isMethod = exports.isMethod = R.whereEq({ type: "Method" });
const isGetter = exports.isGetter = R.whereEq({ type: "Getter" });
const isSetter = exports.isSetter = R.whereEq({ type: "Setter" });
const isDataProperty = exports.isDataProperty = R.whereEq({ type: "DataProperty" });
const isShorthandProperty = exports.isShorthandProperty = R.whereEq({ type: "ShorthandProperty" });
const isComputedPropertyName = exports.isComputedPropertyName = R.whereEq({ type: "ComputedPropertyName" });
const isStaticPropertyName = exports.isStaticPropertyName = R.whereEq({ type: "StaticPropertyName" });

// literals
const isLiteralBooleanExpression = exports.isLiteralBooleanExpression = R.whereEq({ type: "LiteralBooleanExpression" });
const isLiteralInfinityExpression = exports.isLiteralInfinityExpression = R.whereEq({ type: "LiteralInfinityExpression" });
const isLiteralNullExpression = exports.isLiteralNullExpression = R.whereEq({ type: "LiteralNullExpression" });
const isLiteralNumericExpression = exports.isLiteralNumericExpression = R.whereEq({ type: "LiteralNumericExpression" });
const isLiteralRegExpExpression = exports.isLiteralRegExpExpression = R.whereEq({ type: "LiteralRegExpExpression" });
const isLiteralStringExpression = exports.isLiteralStringExpression = R.whereEq({ type: "LiteralStringExpression" });

// expressions
const isArrayExpression = exports.isArrayExpression = R.whereEq({ type: "ArrayExpression" });
const isArrowExpression = exports.isArrowExpression = R.whereEq({ type: "ArrowExpression" });
const isAssignmentExpression = exports.isAssignmentExpression = R.whereEq({ type: "AssignmentExpression" });
const isBinaryExpression = exports.isBinaryExpression = R.whereEq({ type: "BinaryExpression" });
const isCallExpression = exports.isCallExpression = R.whereEq({ type: "CallExpression" });
const isComputedAssignmentExpression = exports.isComputedAssignmentExpression = R.whereEq({ type: "ComputedAssignmentExpression" });
const isComputedMemberExpression = exports.isComputedMemberExpression = R.whereEq({ type: "ComputedMemberExpression" });
const isConditionalExpression = exports.isConditionalExpression = R.whereEq({ type: "ConditionalExpression" });
const isFunctionExpression = exports.isFunctionExpression = R.whereEq({ type: "FunctionExpression" });
const isIdentifierExpression = exports.isIdentifierExpression = R.whereEq({ type: "IdentifierExpression" });
const isNewExpression = exports.isNewExpression = R.whereEq({ type: "NewExpression" });
const isNewTargetExpression = exports.isNewTargetExpression = R.whereEq({ type: "NewTargetExpression" });
const isObjectExpression = exports.isObjectExpression = R.whereEq({ type: "ObjectExpression" });
const isUnaryExpression = exports.isUnaryExpression = R.whereEq({ type: "UnaryExpression" });
const isStaticMemberExpression = exports.isStaticMemberExpression = R.whereEq({ type: "StaticMemberExpression" });
const isTemplateExpression = exports.isTemplateExpression = R.whereEq({ type: "TemplateExpression" });
const isThisExpression = exports.isThisExpression = R.whereEq({ type: "ThisExpression" });
const isUpdateExpression = exports.isUpdateExpression = R.whereEq({ type: "UpdateExpression" });
const isYieldExpression = exports.isYieldExpression = R.whereEq({ type: "YieldExpression" });
const isYieldGeneratorExpression = exports.isYieldGeneratorExpression = R.whereEq({ type: "YieldGeneratorExpression" });

// statements
const isBlockStatement = exports.isBlockStatement = R.whereEq({ type: "BlockStatement" });
const isBreakStatement = exports.isBreakStatement = R.whereEq({ type: "BreakStatement" });
const isContinueStatement = exports.isContinueStatement = R.whereEq({ type: "ContinueStatement" });
const isCompoundAssignmentExpression = exports.isCompoundAssignmentExpression = R.whereEq({ type: "CompoundAssignmentExpression" });
const isDebuggerStatement = exports.isDebuggerStatement = R.whereEq({ type: "DebuggerStatement" });
const isDoWhileStatement = exports.isDoWhileStatement = R.whereEq({ type: "DoWhileStatement" });
const isEmptyStatement = exports.isEmptyStatement = R.whereEq({ type: "EmptyStatement" });
const isExpressionStatement = exports.isExpressionStatement = R.whereEq({ type: "ExpressionStatement" });
const isForInStatement = exports.isForInStatement = R.whereEq({ type: "ForInStatement" });
const isForOfStatement = exports.isForOfStatement = R.whereEq({ type: "ForOfStatement" });
const isForStatement = exports.isForStatement = R.whereEq({ type: "ForStatement" });
const isIfStatement = exports.isIfStatement = R.whereEq({ type: "IfStatement" });
const isLabeledStatement = exports.isLabeledStatement = R.whereEq({ type: "LabeledStatement" });
const isReturnStatement = exports.isReturnStatement = R.whereEq({ type: "ReturnStatement" });
const isSwitchStatement = exports.isSwitchStatement = R.whereEq({ type: "SwitchStatement" });
const isSwitchStatementWithDefault = exports.isSwitchStatementWithDefault = R.whereEq({ type: "SwitchStatementWithDefault" });
const isThrowStatement = exports.isThrowStatement = R.whereEq({ type: "ThrowStatement" });
const isTryCatchStatement = exports.isTryCatchStatement = R.whereEq({ type: "TryCatchStatement" });
const isTryFinallyStatement = exports.isTryFinallyStatement = R.whereEq({ type: "TryFinallyStatement" });
const isVariableDeclarationStatement = exports.isVariableDeclarationStatement = R.whereEq({ type: "VariableDeclarationStatement" });
const isWhileStatement = exports.isWhileStatement = R.whereEq({ type: "WhileStatement" });
const isWithStatement = exports.isWithStatement = R.whereEq({ type: "WithStatement" });

// other
const isPragma = exports.isPragma = R.whereEq({ type: 'Pragma' });
const isBlock = exports.isBlock = R.whereEq({ type: "Block" });
const isCatchClause = exports.isCatchClause = R.whereEq({ type: "CatchClause" });
const isDirective = exports.isDirective = R.whereEq({ type: "Directive" });
const isFormalParameters = exports.isFormalParameters = R.whereEq({ type: "FormalParameters" });
const isFunctionBody = exports.isFunctionBody = R.whereEq({ type: "FunctionBody" });
const isFunctionDeclaration = exports.isFunctionDeclaration = R.whereEq({ type: "FunctionDeclaration" });
const isScript = exports.isScript = R.whereEq({ type: "Script" });
const isSpreadElement = exports.isSpreadElement = R.whereEq({ type: "SpreadElement" });
const isSuper = exports.isSuper = R.whereEq({ type: "Super" });
const isSwitchCase = exports.isSwitchCase = R.whereEq({ type: "SwitchCase" });
const isSwitchDefault = exports.isSwitchDefault = R.whereEq({ type: "SwitchDefault" });
const isTemplateElement = exports.isTemplateElement = R.whereEq({ type: "TemplateElement" });
const isSyntaxTemplate = exports.isSyntaxTemplate = R.whereEq({ type: "SyntaxTemplate" });
const isVariableDeclaration = exports.isVariableDeclaration = R.whereEq({ type: "VariableDeclaration" });
const isVariableDeclarator = exports.isVariableDeclarator = R.whereEq({ type: "VariableDeclarator" });
const isEOF = exports.isEOF = R.whereEq({ type: 'EOF' });
const isSyntaxDeclaration = exports.isSyntaxDeclaration = R.both(isVariableDeclaration, R.whereEq({ kind: 'syntax' }));
const isSyntaxrecDeclaration = exports.isSyntaxrecDeclaration = R.both(isVariableDeclaration, R.whereEq({ kind: 'syntaxrec' }));
const isFunctionTerm = exports.isFunctionTerm = R.either(isFunctionDeclaration, isFunctionExpression);
const isFunctionWithName = exports.isFunctionWithName = R.and(isFunctionTerm, R.complement(R.where({ name: R.isNil })));
const isParenthesizedExpression = exports.isParenthesizedExpression = R.whereEq({ type: 'ParenthesizedExpression' });
const isExportSyntax = exports.isExportSyntax = R.both(isExport, exp => R.or(isSyntaxDeclaration(exp.declaration), isSyntaxrecDeclaration(exp.declaration)));
const isSyntaxDeclarationStatement = exports.isSyntaxDeclarationStatement = R.both(isVariableDeclarationStatement, decl => isCompiletimeDeclaration(decl.declaration));

const isCompiletimeDeclaration = exports.isCompiletimeDeclaration = R.either(isSyntaxDeclaration, isSyntaxrecDeclaration);
const isCompiletimeStatement = exports.isCompiletimeStatement = term => {
  return term instanceof Term && isVariableDeclarationStatement(term) && isCompiletimeDeclaration(term.declaration);
};
const isImportDeclaration = exports.isImportDeclaration = R.either(isImport, isImportNamespace);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXJtcy5qcyJdLCJuYW1lcyI6WyJSIiwiYXR0ck5hbWUiLCJhIiwiVGVybSIsImNvbnN0cnVjdG9yIiwidHlwZSIsInByb3BzIiwic3BlYyIsImdldERlc2NlbmRhbnQiLCJFcnJvciIsImxvYyIsInByb3BLZXlzIiwiT2JqZWN0Iiwia2V5cyIsImZpZWxkTmFtZXMiLCJnZXRBdHRyaWJ1dGVzIiwibWFwIiwiZGlmZiIsInN5bW1ldHJpY0RpZmZlcmVuY2UiLCJsZW5ndGgiLCJhc3NpZ24iLCJleHRlbmQiLCJzcGVjQXR0ck5hbWVzIiwibmV3UHJvcHMiLCJwaWNrIiwiaW52YWxpZEF0dHJzIiwiZGlmZmVyZW5jZSIsImdlbiIsImluY2x1ZGVJbXBvcnRzIiwibmV4dCIsImZpZWxkIiwiaXNMaXN0IiwicHJlZCIsImNvbXBsZW1lbnQiLCJpc0NvbXBpbGV0aW1lU3RhdGVtZW50IiwiYm90aCIsImlzSW1wb3J0RGVjbGFyYXRpb24iLCJmaWx0ZXIiLCJ0ZXJtIiwidmlzaXQiLCJmIiwiYWRkU2NvcGUiLCJzY29wZSIsImJpbmRpbmdzIiwicGhhc2UiLCJvcHRpb25zIiwicmVtb3ZlU2NvcGUiLCJsaW5lTnVtYmVyIiwic2V0TGluZU51bWJlciIsImxpbmUiLCJpc0JpbmRpbmdXaXRoRGVmYXVsdCIsIndoZXJlRXEiLCJpc0JpbmRpbmdJZGVudGlmaWVyIiwiaXNBcnJheUJpbmRpbmciLCJpc09iamVjdEJpbmRpbmciLCJpc0JpbmRpbmdQcm9wZXJ0eUlkZW50aWZpZXIiLCJpc0JpbmRpbmdQcm9wZXJ0eVByb3BlcnR5IiwiaXNDbGFzc0V4cHJlc3Npb24iLCJpc0NsYXNzRGVjbGFyYXRpb24iLCJpc0NsYXNzRWxlbWVudCIsImlzTW9kdWxlIiwiaXNJbXBvcnQiLCJpc0ltcG9ydE5hbWVzcGFjZSIsImlzSW1wb3J0U3BlY2lmaWVyIiwiaXNFeHBvcnRBbGxGcm9tIiwiaXNFeHBvcnRGcm9tIiwiaXNFeHBvcnQiLCJpc0V4cG9ydERlZmF1bHQiLCJpc0V4cG9ydFNwZWNpZmllciIsImlzTWV0aG9kIiwiaXNHZXR0ZXIiLCJpc1NldHRlciIsImlzRGF0YVByb3BlcnR5IiwiaXNTaG9ydGhhbmRQcm9wZXJ0eSIsImlzQ29tcHV0ZWRQcm9wZXJ0eU5hbWUiLCJpc1N0YXRpY1Byb3BlcnR5TmFtZSIsImlzTGl0ZXJhbEJvb2xlYW5FeHByZXNzaW9uIiwiaXNMaXRlcmFsSW5maW5pdHlFeHByZXNzaW9uIiwiaXNMaXRlcmFsTnVsbEV4cHJlc3Npb24iLCJpc0xpdGVyYWxOdW1lcmljRXhwcmVzc2lvbiIsImlzTGl0ZXJhbFJlZ0V4cEV4cHJlc3Npb24iLCJpc0xpdGVyYWxTdHJpbmdFeHByZXNzaW9uIiwiaXNBcnJheUV4cHJlc3Npb24iLCJpc0Fycm93RXhwcmVzc2lvbiIsImlzQXNzaWdubWVudEV4cHJlc3Npb24iLCJpc0JpbmFyeUV4cHJlc3Npb24iLCJpc0NhbGxFeHByZXNzaW9uIiwiaXNDb21wdXRlZEFzc2lnbm1lbnRFeHByZXNzaW9uIiwiaXNDb21wdXRlZE1lbWJlckV4cHJlc3Npb24iLCJpc0NvbmRpdGlvbmFsRXhwcmVzc2lvbiIsImlzRnVuY3Rpb25FeHByZXNzaW9uIiwiaXNJZGVudGlmaWVyRXhwcmVzc2lvbiIsImlzTmV3RXhwcmVzc2lvbiIsImlzTmV3VGFyZ2V0RXhwcmVzc2lvbiIsImlzT2JqZWN0RXhwcmVzc2lvbiIsImlzVW5hcnlFeHByZXNzaW9uIiwiaXNTdGF0aWNNZW1iZXJFeHByZXNzaW9uIiwiaXNUZW1wbGF0ZUV4cHJlc3Npb24iLCJpc1RoaXNFeHByZXNzaW9uIiwiaXNVcGRhdGVFeHByZXNzaW9uIiwiaXNZaWVsZEV4cHJlc3Npb24iLCJpc1lpZWxkR2VuZXJhdG9yRXhwcmVzc2lvbiIsImlzQmxvY2tTdGF0ZW1lbnQiLCJpc0JyZWFrU3RhdGVtZW50IiwiaXNDb250aW51ZVN0YXRlbWVudCIsImlzQ29tcG91bmRBc3NpZ25tZW50RXhwcmVzc2lvbiIsImlzRGVidWdnZXJTdGF0ZW1lbnQiLCJpc0RvV2hpbGVTdGF0ZW1lbnQiLCJpc0VtcHR5U3RhdGVtZW50IiwiaXNFeHByZXNzaW9uU3RhdGVtZW50IiwiaXNGb3JJblN0YXRlbWVudCIsImlzRm9yT2ZTdGF0ZW1lbnQiLCJpc0ZvclN0YXRlbWVudCIsImlzSWZTdGF0ZW1lbnQiLCJpc0xhYmVsZWRTdGF0ZW1lbnQiLCJpc1JldHVyblN0YXRlbWVudCIsImlzU3dpdGNoU3RhdGVtZW50IiwiaXNTd2l0Y2hTdGF0ZW1lbnRXaXRoRGVmYXVsdCIsImlzVGhyb3dTdGF0ZW1lbnQiLCJpc1RyeUNhdGNoU3RhdGVtZW50IiwiaXNUcnlGaW5hbGx5U3RhdGVtZW50IiwiaXNWYXJpYWJsZURlY2xhcmF0aW9uU3RhdGVtZW50IiwiaXNXaGlsZVN0YXRlbWVudCIsImlzV2l0aFN0YXRlbWVudCIsImlzUHJhZ21hIiwiaXNCbG9jayIsImlzQ2F0Y2hDbGF1c2UiLCJpc0RpcmVjdGl2ZSIsImlzRm9ybWFsUGFyYW1ldGVycyIsImlzRnVuY3Rpb25Cb2R5IiwiaXNGdW5jdGlvbkRlY2xhcmF0aW9uIiwiaXNTY3JpcHQiLCJpc1NwcmVhZEVsZW1lbnQiLCJpc1N1cGVyIiwiaXNTd2l0Y2hDYXNlIiwiaXNTd2l0Y2hEZWZhdWx0IiwiaXNUZW1wbGF0ZUVsZW1lbnQiLCJpc1N5bnRheFRlbXBsYXRlIiwiaXNWYXJpYWJsZURlY2xhcmF0aW9uIiwiaXNWYXJpYWJsZURlY2xhcmF0b3IiLCJpc0VPRiIsImlzU3ludGF4RGVjbGFyYXRpb24iLCJraW5kIiwiaXNTeW50YXhyZWNEZWNsYXJhdGlvbiIsImlzRnVuY3Rpb25UZXJtIiwiZWl0aGVyIiwiaXNGdW5jdGlvbldpdGhOYW1lIiwiYW5kIiwid2hlcmUiLCJuYW1lIiwiaXNOaWwiLCJpc1BhcmVudGhlc2l6ZWRFeHByZXNzaW9uIiwiaXNFeHBvcnRTeW50YXgiLCJleHAiLCJvciIsImRlY2xhcmF0aW9uIiwiaXNTeW50YXhEZWNsYXJhdGlvblN0YXRlbWVudCIsImRlY2wiLCJpc0NvbXBpbGV0aW1lRGVjbGFyYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7SUFBWUEsQzs7QUFDWjs7Ozs7Ozs7QUFFQSxNQUFNQyxXQUFXQyxLQUFLQSxFQUFFRCxRQUF4Qjs7QUFFZSxNQUFNRSxJQUFOLENBQVc7O0FBS3hCQyxjQUFZQyxJQUFaLEVBQTBCQyxLQUExQixFQUFxQztBQUNuQyxRQUFJQyxPQUFPLG9CQUFTQyxhQUFULENBQXVCSCxJQUF2QixDQUFYO0FBQ0EsUUFBSUUsUUFBUSxJQUFaLEVBQWtCO0FBQ2hCLFlBQU0sSUFBSUUsS0FBSixDQUFXLGtCQUFnQkosSUFBSyxHQUFoQyxDQUFOO0FBQ0Q7QUFDRCxTQUFLQSxJQUFMLEdBQVlBLElBQVo7QUFDQSxTQUFLSyxHQUFMLEdBQVcsSUFBWDtBQUNBLFNBQUtILElBQUwsR0FBWUEsSUFBWjtBQUNBLFFBQUlJLFdBQVdDLE9BQU9DLElBQVAsQ0FBWVAsS0FBWixDQUFmO0FBQ0EsUUFBSVEsYUFBYVAsS0FBS1EsYUFBTCxHQUFxQkMsR0FBckIsQ0FBeUJmLFFBQXpCLENBQWpCO0FBQ0EsUUFBSWdCLE9BQU9qQixFQUFFa0IsbUJBQUYsQ0FBc0JQLFFBQXRCLEVBQWdDRyxVQUFoQyxDQUFYO0FBQ0EsUUFBSUcsS0FBS0UsTUFBTCxLQUFnQixDQUFwQixFQUF1QjtBQUNyQixZQUFNLElBQUlWLEtBQUosQ0FBVyxtQ0FBaUNKLElBQUssT0FBSVksSUFBSyxHQUExRCxDQUFOO0FBQ0Q7QUFDREwsV0FBT1EsTUFBUCxDQUFjLElBQWQsRUFBb0JkLEtBQXBCO0FBQ0Q7O0FBRURlLFNBQU9mLEtBQVAsRUFBa0I7QUFDaEIsUUFBSWdCLGdCQUFnQixLQUFLZixJQUFMLENBQVVRLGFBQVYsR0FBMEJDLEdBQTFCLENBQThCZixRQUE5QixDQUFwQjtBQUNBLFFBQUlzQixXQUFXdkIsRUFBRXdCLElBQUYsQ0FBT0YsYUFBUCxFQUFzQixJQUF0QixDQUFmOztBQUVBLFFBQUlHLGVBQWV6QixFQUFFMEIsVUFBRixDQUFhZCxPQUFPQyxJQUFQLENBQVlQLEtBQVosQ0FBYixFQUFpQ2dCLGFBQWpDLENBQW5CO0FBQ0EsUUFBSUcsYUFBYU4sTUFBYixHQUFzQixDQUExQixFQUE2QjtBQUMzQixZQUFNLElBQUlWLEtBQUosQ0FBVyxtQ0FBaUMsS0FBS0osSUFBSyxPQUFJb0IsWUFBYSxHQUF2RSxDQUFOO0FBQ0Q7O0FBRUQsV0FBTyxJQUFJdEIsSUFBSixDQUFTLEtBQUtFLElBQWQsRUFBb0JPLE9BQU9RLE1BQVAsQ0FBY0csUUFBZCxFQUF3QmpCLEtBQXhCLENBQXBCLENBQVA7QUFDRDs7QUFFRDtBQUNBcUIsUUFBb0M7QUFBQSxRQUFoQ0MsY0FBZ0MsdUVBQU4sSUFBTTs7QUFDbEMsUUFBSUMsT0FBTyxFQUFYO0FBQ0EsU0FBSyxJQUFJQyxLQUFULElBQWtCLEtBQUt2QixJQUFMLENBQVVRLGFBQVYsRUFBbEIsRUFBNkM7QUFDM0MsVUFBSSxLQUFLZSxNQUFNN0IsUUFBWCxLQUF3QixJQUE1QixFQUFrQztBQUNoQzRCLGFBQUtDLE1BQU03QixRQUFYLElBQXVCLElBQXZCO0FBQ0QsT0FGRCxNQUVPLElBQUksS0FBSzZCLE1BQU03QixRQUFYLGFBQWdDRSxJQUFwQyxFQUEwQztBQUMvQzBCLGFBQUtDLE1BQU03QixRQUFYLElBQXVCLEtBQUs2QixNQUFNN0IsUUFBWCxFQUFxQjBCLEdBQXJCLENBQXlCQyxjQUF6QixDQUF2QjtBQUNELE9BRk0sTUFFQSxJQUFJLGdCQUFLRyxNQUFMLENBQVksS0FBS0QsTUFBTTdCLFFBQVgsQ0FBWixDQUFKLEVBQXVDO0FBQzVDLFlBQUkrQixPQUFPSixpQkFBaUI1QixFQUFFaUMsVUFBRixDQUFhQyxzQkFBYixDQUFqQixHQUF3RGxDLEVBQUVtQyxJQUFGLENBQU9uQyxFQUFFaUMsVUFBRixDQUFhRyxtQkFBYixDQUFQLEVBQTBDcEMsRUFBRWlDLFVBQUYsQ0FBYUMsc0JBQWIsQ0FBMUMsQ0FBbkU7QUFDQUwsYUFBS0MsTUFBTTdCLFFBQVgsSUFBdUIsS0FBSzZCLE1BQU03QixRQUFYLEVBQXFCb0MsTUFBckIsQ0FBNEJMLElBQTVCLEVBQ0doQixHQURILENBQ09zQixRQUFRQSxnQkFBZ0JuQyxJQUFoQixHQUF1Qm1DLEtBQUtYLEdBQUwsQ0FBU0MsY0FBVCxDQUF2QixHQUFrRFUsSUFEakUsQ0FBdkI7QUFFRCxPQUpNLE1BSUE7QUFDTFQsYUFBS0MsTUFBTTdCLFFBQVgsSUFBdUIsS0FBSzZCLE1BQU03QixRQUFYLENBQXZCO0FBQ0Q7QUFDRjtBQUNELFdBQU8sSUFBSUUsSUFBSixDQUFTLEtBQUtFLElBQWQsRUFBb0J3QixJQUFwQixDQUFQO0FBQ0Q7O0FBRUQ7QUFDQVUsUUFBTUMsQ0FBTixFQUFTO0FBQ1AsUUFBSVgsT0FBTyxFQUFYO0FBQ0EsU0FBSyxJQUFJQyxLQUFULElBQWtCLG9CQUFTdEIsYUFBVCxDQUF1QixLQUFLSCxJQUE1QixFQUFrQ1UsYUFBbEMsRUFBbEIsRUFBcUU7QUFDbkUsVUFBSSxLQUFLZSxNQUFNN0IsUUFBWCxLQUF3QixJQUE1QixFQUFrQztBQUNoQzRCLGFBQUtDLE1BQU03QixRQUFYLElBQXVCLElBQXZCO0FBQ0QsT0FGRCxNQUVPLElBQUksZ0JBQUs4QixNQUFMLENBQVksS0FBS0QsTUFBTTdCLFFBQVgsQ0FBWixDQUFKLEVBQXVDO0FBQzVDNEIsYUFBS0MsTUFBTTdCLFFBQVgsSUFBdUIsS0FBSzZCLE1BQU03QixRQUFYLEVBQXFCZSxHQUFyQixDQUF5QmMsU0FBU0EsU0FBUyxJQUFULEdBQWdCVSxFQUFFVixLQUFGLENBQWhCLEdBQTJCLElBQTdELENBQXZCO0FBQ0QsT0FGTSxNQUVBO0FBQ0xELGFBQUtDLE1BQU03QixRQUFYLElBQXVCdUMsRUFBRSxLQUFLVixNQUFNN0IsUUFBWCxDQUFGLENBQXZCO0FBQ0Q7QUFDRjtBQUNELFdBQU8sS0FBS29CLE1BQUwsQ0FBWVEsSUFBWixDQUFQO0FBQ0Q7O0FBRUQ7QUFDQVksV0FBU0MsS0FBVCxFQUFnQkMsUUFBaEIsRUFBMEJDLEtBQTFCLEVBQWlDQyxPQUFqQyxFQUEwQztBQUN4QyxXQUFPLEtBQUtOLEtBQUwsQ0FBV0QsUUFBUTtBQUN4QixVQUFJLE9BQU9BLEtBQUtHLFFBQVosS0FBeUIsVUFBN0IsRUFBeUM7QUFDdkMsZUFBT0gsS0FBS0csUUFBTCxDQUFjQyxLQUFkLEVBQXFCQyxRQUFyQixFQUErQkMsS0FBL0IsRUFBc0NDLE9BQXRDLENBQVA7QUFDRDtBQUNELGFBQU9QLElBQVA7QUFDRCxLQUxNLENBQVA7QUFNRDs7QUFFRDtBQUNBUSxjQUFZSixLQUFaLEVBQW1CRSxLQUFuQixFQUEwQjtBQUN4QixXQUFPLEtBQUtMLEtBQUwsQ0FBV0QsUUFBUTtBQUN4QixVQUFJLE9BQU9BLEtBQUtRLFdBQVosS0FBNEIsVUFBaEMsRUFBNEM7QUFDMUMsZUFBT1IsS0FBS1EsV0FBTCxDQUFpQkosS0FBakIsRUFBd0JFLEtBQXhCLENBQVA7QUFDRDtBQUNELGFBQU9OLElBQVA7QUFDRCxLQUxNLENBQVA7QUFNRDs7QUFFRDtBQUNBUyxlQUFhO0FBQ1gsU0FBSyxJQUFJakIsS0FBVCxJQUFrQixvQkFBU3RCLGFBQVQsQ0FBdUIsS0FBS0gsSUFBNUIsRUFBa0NVLGFBQWxDLEVBQWxCLEVBQXFFO0FBQ25FLFVBQUksT0FBTyxLQUFLZSxNQUFNN0IsUUFBWCxDQUFQLElBQStCLEtBQUs2QixNQUFNN0IsUUFBWCxFQUFxQjhDLFVBQXJCLEtBQW9DLFVBQXZFLEVBQW1GO0FBQ2pGLGVBQU8sS0FBS2pCLE1BQU03QixRQUFYLEVBQXFCOEMsVUFBckIsRUFBUDtBQUNEO0FBQ0Y7QUFDRjs7QUFFREMsZ0JBQWNDLElBQWQsRUFBb0I7QUFDbEIsUUFBSXBCLE9BQU8sRUFBWDtBQUNBLFNBQUssSUFBSUMsS0FBVCxJQUFrQixvQkFBU3RCLGFBQVQsQ0FBdUIsS0FBS0gsSUFBNUIsRUFBa0NVLGFBQWxDLEVBQWxCLEVBQXFFO0FBQ25FLFVBQUksS0FBS2UsTUFBTTdCLFFBQVgsS0FBd0IsSUFBNUIsRUFBa0M7QUFDaEM0QixhQUFLQyxNQUFNN0IsUUFBWCxJQUF1QixJQUF2QjtBQUNELE9BRkQsTUFFTyxJQUFJLE9BQU8sS0FBSzZCLE1BQU03QixRQUFYLEVBQXFCK0MsYUFBNUIsS0FBOEMsVUFBbEQsRUFBOEQ7QUFDbkVuQixhQUFLQyxNQUFNN0IsUUFBWCxJQUF1QixLQUFLNkIsTUFBTTdCLFFBQVgsRUFBcUIrQyxhQUFyQixDQUFtQ0MsSUFBbkMsQ0FBdkI7QUFDRCxPQUZNLE1BRUEsSUFBSSxnQkFBS2xCLE1BQUwsQ0FBWSxLQUFLRCxNQUFNN0IsUUFBWCxDQUFaLENBQUosRUFBdUM7QUFDNUM0QixhQUFLQyxNQUFNN0IsUUFBWCxJQUF1QixLQUFLNkIsTUFBTTdCLFFBQVgsRUFBcUJlLEdBQXJCLENBQXlCd0IsS0FBS0EsRUFBRVEsYUFBRixDQUFnQkMsSUFBaEIsQ0FBOUIsQ0FBdkI7QUFDRCxPQUZNLE1BRUE7QUFDTHBCLGFBQUtDLE1BQU03QixRQUFYLElBQXVCLEtBQUs2QixNQUFNN0IsUUFBWCxDQUF2QjtBQUNEO0FBQ0Y7QUFDRCxXQUFPLElBQUlFLElBQUosQ0FBUyxLQUFLRSxJQUFkLEVBQW9Cd0IsSUFBcEIsQ0FBUDtBQUNEO0FBL0d1Qjs7a0JBQUwxQixJLEVBbUhyQjs7QUFDTyxNQUFNK0Msc0RBQXVCbEQsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxvQkFBUixFQUFWLENBQTdCO0FBQ0EsTUFBTStDLG9EQUFzQnBELEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sbUJBQVIsRUFBVixDQUE1QjtBQUNBLE1BQU1nRCwwQ0FBaUJyRCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGNBQVIsRUFBVixDQUF2QjtBQUNBLE1BQU1pRCw0Q0FBa0J0RCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGVBQVIsRUFBVixDQUF4QjtBQUNBLE1BQU1rRCxvRUFBOEJ2RCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLDJCQUFSLEVBQVYsQ0FBcEM7QUFDQSxNQUFNbUQsZ0VBQTRCeEQsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSwyQkFBUixFQUFWLENBQWxDOztBQUVQO0FBQ08sTUFBTW9ELGdEQUFvQnpELEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0saUJBQVIsRUFBVixDQUExQjtBQUNBLE1BQU1xRCxrREFBcUIxRCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGtCQUFSLEVBQVYsQ0FBM0I7QUFDQSxNQUFNc0QsMENBQWlCM0QsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxjQUFSLEVBQVYsQ0FBdkI7O0FBRVA7QUFDTyxNQUFNdUQsOEJBQVc1RCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLFFBQVIsRUFBVixDQUFqQjtBQUNBLE1BQU13RCw4QkFBVzdELEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sUUFBUixFQUFWLENBQWpCO0FBQ0EsTUFBTXlELGdEQUFvQjlELEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0saUJBQVIsRUFBVixDQUExQjtBQUNBLE1BQU0wRCxnREFBb0IvRCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGlCQUFSLEVBQVYsQ0FBMUI7QUFDQSxNQUFNMkQsNENBQWtCaEUsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxlQUFSLEVBQVYsQ0FBeEI7QUFDQSxNQUFNNEQsc0NBQWVqRSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLFlBQVIsRUFBVixDQUFyQjtBQUNBLE1BQU02RCw4QkFBV2xFLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sUUFBUixFQUFWLENBQWpCO0FBQ0EsTUFBTThELDRDQUFrQm5FLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sZUFBUixFQUFWLENBQXhCO0FBQ0EsTUFBTStELGdEQUFvQnBFLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0saUJBQVIsRUFBVixDQUExQjs7QUFFUDtBQUNPLE1BQU1nRSw4QkFBV3JFLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sUUFBUixFQUFWLENBQWpCO0FBQ0EsTUFBTWlFLDhCQUFXdEUsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxRQUFSLEVBQVYsQ0FBakI7QUFDQSxNQUFNa0UsOEJBQVd2RSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLFFBQVIsRUFBVixDQUFqQjtBQUNBLE1BQU1tRSwwQ0FBaUJ4RSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGNBQVIsRUFBVixDQUF2QjtBQUNBLE1BQU1vRSxvREFBc0J6RSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLG1CQUFSLEVBQVYsQ0FBNUI7QUFDQSxNQUFNcUUsMERBQXlCMUUsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxzQkFBUixFQUFWLENBQS9CO0FBQ0EsTUFBTXNFLHNEQUF1QjNFLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sb0JBQVIsRUFBVixDQUE3Qjs7QUFFUDtBQUNPLE1BQU11RSxrRUFBNkI1RSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLDBCQUFSLEVBQVYsQ0FBbkM7QUFDQSxNQUFNd0Usb0VBQThCN0UsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSwyQkFBUixFQUFWLENBQXBDO0FBQ0EsTUFBTXlFLDREQUEwQjlFLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sdUJBQVIsRUFBVixDQUFoQztBQUNBLE1BQU0wRSxrRUFBNkIvRSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLDBCQUFSLEVBQVYsQ0FBbkM7QUFDQSxNQUFNMkUsZ0VBQTRCaEYsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSx5QkFBUixFQUFWLENBQWxDO0FBQ0EsTUFBTTRFLGdFQUE0QmpGLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0seUJBQVIsRUFBVixDQUFsQzs7QUFFUDtBQUNPLE1BQU02RSxnREFBb0JsRixFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGlCQUFSLEVBQVYsQ0FBMUI7QUFDQSxNQUFNOEUsZ0RBQW9CbkYsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxpQkFBUixFQUFWLENBQTFCO0FBQ0EsTUFBTStFLDBEQUF5QnBGLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sc0JBQVIsRUFBVixDQUEvQjtBQUNBLE1BQU1nRixrREFBcUJyRixFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGtCQUFSLEVBQVYsQ0FBM0I7QUFDQSxNQUFNaUYsOENBQW1CdEYsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxnQkFBUixFQUFWLENBQXpCO0FBQ0EsTUFBTWtGLDBFQUFpQ3ZGLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sOEJBQVIsRUFBVixDQUF2QztBQUNBLE1BQU1tRixrRUFBNkJ4RixFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLDBCQUFSLEVBQVYsQ0FBbkM7QUFDQSxNQUFNb0YsNERBQTBCekYsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSx1QkFBUixFQUFWLENBQWhDO0FBQ0EsTUFBTXFGLHNEQUF1QjFGLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sb0JBQVIsRUFBVixDQUE3QjtBQUNBLE1BQU1zRiwwREFBeUIzRixFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLHNCQUFSLEVBQVYsQ0FBL0I7QUFDQSxNQUFNdUYsNENBQWtCNUYsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxlQUFSLEVBQVYsQ0FBeEI7QUFDQSxNQUFNd0Ysd0RBQXdCN0YsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxxQkFBUixFQUFWLENBQTlCO0FBQ0EsTUFBTXlGLGtEQUFxQjlGLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sa0JBQVIsRUFBVixDQUEzQjtBQUNBLE1BQU0wRixnREFBb0IvRixFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGlCQUFSLEVBQVYsQ0FBMUI7QUFDQSxNQUFNMkYsOERBQTJCaEcsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSx3QkFBUixFQUFWLENBQWpDO0FBQ0EsTUFBTTRGLHNEQUF1QmpHLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sb0JBQVIsRUFBVixDQUE3QjtBQUNBLE1BQU02Riw4Q0FBbUJsRyxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGdCQUFSLEVBQVYsQ0FBekI7QUFDQSxNQUFNOEYsa0RBQXFCbkcsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxrQkFBUixFQUFWLENBQTNCO0FBQ0EsTUFBTStGLGdEQUFvQnBHLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0saUJBQVIsRUFBVixDQUExQjtBQUNBLE1BQU1nRyxrRUFBNkJyRyxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLDBCQUFSLEVBQVYsQ0FBbkM7O0FBRVA7QUFDTyxNQUFNaUcsOENBQW1CdEcsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxnQkFBUixFQUFWLENBQXpCO0FBQ0EsTUFBTWtHLDhDQUFtQnZHLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sZ0JBQVIsRUFBVixDQUF6QjtBQUNBLE1BQU1tRyxvREFBc0J4RyxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLG1CQUFSLEVBQVYsQ0FBNUI7QUFDQSxNQUFNb0csMEVBQWlDekcsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSw4QkFBUixFQUFWLENBQXZDO0FBQ0EsTUFBTXFHLG9EQUFzQjFHLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sbUJBQVIsRUFBVixDQUE1QjtBQUNBLE1BQU1zRyxrREFBcUIzRyxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGtCQUFSLEVBQVYsQ0FBM0I7QUFDQSxNQUFNdUcsOENBQW1CNUcsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxnQkFBUixFQUFWLENBQXpCO0FBQ0EsTUFBTXdHLHdEQUF3QjdHLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0scUJBQVIsRUFBVixDQUE5QjtBQUNBLE1BQU15Ryw4Q0FBbUI5RyxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGdCQUFSLEVBQVYsQ0FBekI7QUFDQSxNQUFNMEcsOENBQW1CL0csRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxnQkFBUixFQUFWLENBQXpCO0FBQ0EsTUFBTTJHLDBDQUFpQmhILEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sY0FBUixFQUFWLENBQXZCO0FBQ0EsTUFBTTRHLHdDQUFnQmpILEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sYUFBUixFQUFWLENBQXRCO0FBQ0EsTUFBTTZHLGtEQUFxQmxILEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sa0JBQVIsRUFBVixDQUEzQjtBQUNBLE1BQU04RyxnREFBb0JuSCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGlCQUFSLEVBQVYsQ0FBMUI7QUFDQSxNQUFNK0csZ0RBQW9CcEgsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxpQkFBUixFQUFWLENBQTFCO0FBQ0EsTUFBTWdILHNFQUErQnJILEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sNEJBQVIsRUFBVixDQUFyQztBQUNBLE1BQU1pSCw4Q0FBbUJ0SCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGdCQUFSLEVBQVYsQ0FBekI7QUFDQSxNQUFNa0gsb0RBQXNCdkgsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxtQkFBUixFQUFWLENBQTVCO0FBQ0EsTUFBTW1ILHdEQUF3QnhILEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0scUJBQVIsRUFBVixDQUE5QjtBQUNBLE1BQU1vSCwwRUFBaUN6SCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLDhCQUFSLEVBQVYsQ0FBdkM7QUFDQSxNQUFNcUgsOENBQW1CMUgsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxnQkFBUixFQUFWLENBQXpCO0FBQ0EsTUFBTXNILDRDQUFrQjNILEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sZUFBUixFQUFWLENBQXhCOztBQUVQO0FBQ08sTUFBTXVILDhCQUFXNUgsRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxRQUFSLEVBQVYsQ0FBakI7QUFDQSxNQUFNd0gsNEJBQVU3SCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLE9BQVIsRUFBVixDQUFoQjtBQUNBLE1BQU15SCx3Q0FBZ0I5SCxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGFBQVIsRUFBVixDQUF0QjtBQUNBLE1BQU0wSCxvQ0FBYy9ILEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sV0FBUixFQUFWLENBQXBCO0FBQ0EsTUFBTTJILGtEQUFxQmhJLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sa0JBQVIsRUFBVixDQUEzQjtBQUNBLE1BQU00SCwwQ0FBaUJqSSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGNBQVIsRUFBVixDQUF2QjtBQUNBLE1BQU02SCx3REFBd0JsSSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLHFCQUFSLEVBQVYsQ0FBOUI7QUFDQSxNQUFNOEgsOEJBQVduSSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLFFBQVIsRUFBVixDQUFqQjtBQUNBLE1BQU0rSCw0Q0FBa0JwSSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLGVBQVIsRUFBVixDQUF4QjtBQUNBLE1BQU1nSSw0QkFBVXJJLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sT0FBUixFQUFWLENBQWhCO0FBQ0EsTUFBTWlJLHNDQUFldEksRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxZQUFSLEVBQVYsQ0FBckI7QUFDQSxNQUFNa0ksNENBQWtCdkksRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxlQUFSLEVBQVYsQ0FBeEI7QUFDQSxNQUFNbUksZ0RBQW9CeEksRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxpQkFBUixFQUFWLENBQTFCO0FBQ0EsTUFBTW9JLDhDQUFtQnpJLEVBQUVtRCxPQUFGLENBQVUsRUFBRTlDLE1BQU0sZ0JBQVIsRUFBVixDQUF6QjtBQUNBLE1BQU1xSSx3REFBd0IxSSxFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLHFCQUFSLEVBQVYsQ0FBOUI7QUFDQSxNQUFNc0ksc0RBQXVCM0ksRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxvQkFBUixFQUFWLENBQTdCO0FBQ0EsTUFBTXVJLHdCQUFRNUksRUFBRW1ELE9BQUYsQ0FBVSxFQUFFOUMsTUFBTSxLQUFSLEVBQVYsQ0FBZDtBQUNBLE1BQU13SSxvREFBc0I3SSxFQUFFbUMsSUFBRixDQUFPdUcscUJBQVAsRUFBOEIxSSxFQUFFbUQsT0FBRixDQUFVLEVBQUUyRixNQUFNLFFBQVIsRUFBVixDQUE5QixDQUE1QjtBQUNBLE1BQU1DLDBEQUF5Qi9JLEVBQUVtQyxJQUFGLENBQU91RyxxQkFBUCxFQUE4QjFJLEVBQUVtRCxPQUFGLENBQVUsRUFBRTJGLE1BQU0sV0FBUixFQUFWLENBQTlCLENBQS9CO0FBQ0EsTUFBTUUsMENBQWlCaEosRUFBRWlKLE1BQUYsQ0FBU2YscUJBQVQsRUFBZ0N4QyxvQkFBaEMsQ0FBdkI7QUFDQSxNQUFNd0Qsa0RBQXFCbEosRUFBRW1KLEdBQUYsQ0FBTUgsY0FBTixFQUFzQmhKLEVBQUVpQyxVQUFGLENBQWFqQyxFQUFFb0osS0FBRixDQUFRLEVBQUVDLE1BQU1ySixFQUFFc0osS0FBVixFQUFSLENBQWIsQ0FBdEIsQ0FBM0I7QUFDQSxNQUFNQyxnRUFBNEJ2SixFQUFFbUQsT0FBRixDQUFVLEVBQUU5QyxNQUFNLHlCQUFSLEVBQVYsQ0FBbEM7QUFDQSxNQUFNbUosMENBQWlCeEosRUFBRW1DLElBQUYsQ0FBTytCLFFBQVAsRUFBaUJ1RixPQUFPekosRUFBRTBKLEVBQUYsQ0FBS2Isb0JBQW9CWSxJQUFJRSxXQUF4QixDQUFMLEVBQTJDWix1QkFBdUJVLElBQUlFLFdBQTNCLENBQTNDLENBQXhCLENBQXZCO0FBQ0EsTUFBTUMsc0VBQStCNUosRUFBRW1DLElBQUYsQ0FBT3NGLDhCQUFQLEVBQXVDb0MsUUFBUUMseUJBQXlCRCxLQUFLRixXQUE5QixDQUEvQyxDQUFyQzs7QUFHQSxNQUFNRyw4REFBMkI5SixFQUFFaUosTUFBRixDQUFTSixtQkFBVCxFQUE4QkUsc0JBQTlCLENBQWpDO0FBQ0EsTUFBTTdHLDBEQUF5QkksUUFBUTtBQUM1QyxTQUFRQSxnQkFBZ0JuQyxJQUFqQixJQUEwQnNILCtCQUErQm5GLElBQS9CLENBQTFCLElBQWtFd0gseUJBQXlCeEgsS0FBS3FILFdBQTlCLENBQXpFO0FBQ0QsQ0FGTTtBQUdBLE1BQU12SCxvREFBc0JwQyxFQUFFaUosTUFBRixDQUFTcEYsUUFBVCxFQUFtQkMsaUJBQW5CLENBQTVCIiwiZmlsZSI6InRlcm1zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGlzdCB9IGZyb20gXCJpbW11dGFibGVcIjtcbmltcG9ydCAqIGFzIFIgZnJvbSBcInJhbWRhXCI7XG5pbXBvcnQgVGVybVNwZWMgZnJvbSAnc3dlZXQtc3BlYyc7XG5cbmNvbnN0IGF0dHJOYW1lID0gYSA9PiBhLmF0dHJOYW1lO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXJtIHtcbiAgdHlwZTogc3RyaW5nO1xuICBsb2M6IG51bGw7XG4gIHNwZWM6IHR5cGVvZiBUZXJtU3BlYztcblxuICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcsIHByb3BzOiB7fSkge1xuICAgIGxldCBzcGVjID0gVGVybVNwZWMuZ2V0RGVzY2VuZGFudCh0eXBlKTtcbiAgICBpZiAoc3BlYyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gdGVybTogJHt0eXBlfWApO1xuICAgIH1cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMubG9jID0gbnVsbDtcbiAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgIGxldCBwcm9wS2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAgICBsZXQgZmllbGROYW1lcyA9IHNwZWMuZ2V0QXR0cmlidXRlcygpLm1hcChhdHRyTmFtZSk7XG4gICAgbGV0IGRpZmYgPSBSLnN5bW1ldHJpY0RpZmZlcmVuY2UocHJvcEtleXMsIGZpZWxkTmFtZXMpO1xuICAgIGlmIChkaWZmLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHByb3BlcnRpZXMgZm9yIHRlcm0gJHt0eXBlfTogJHtkaWZmfWApO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgfVxuXG4gIGV4dGVuZChwcm9wczoge30pIHtcbiAgICBsZXQgc3BlY0F0dHJOYW1lcyA9IHRoaXMuc3BlYy5nZXRBdHRyaWJ1dGVzKCkubWFwKGF0dHJOYW1lKTtcbiAgICBsZXQgbmV3UHJvcHMgPSBSLnBpY2soc3BlY0F0dHJOYW1lcywgdGhpcyk7XG5cbiAgICBsZXQgaW52YWxpZEF0dHJzID0gUi5kaWZmZXJlbmNlKE9iamVjdC5rZXlzKHByb3BzKSwgc3BlY0F0dHJOYW1lcyk7XG4gICAgaWYgKGludmFsaWRBdHRycy5sZW5ndGggPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgcHJvcGVydGllcyBmb3IgdGVybSAke3RoaXMudHlwZX06ICR7aW52YWxpZEF0dHJzfWApO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVGVybSh0aGlzLnR5cGUsIE9iamVjdC5hc3NpZ24obmV3UHJvcHMsIHByb3BzKSk7XG4gIH1cblxuICAvLyBUT0RPOiByZW1vdmVcbiAgZ2VuKGluY2x1ZGVJbXBvcnRzOiBib29sZWFuID0gdHJ1ZSkge1xuICAgIGxldCBuZXh0ID0ge307XG4gICAgZm9yIChsZXQgZmllbGQgb2YgdGhpcy5zcGVjLmdldEF0dHJpYnV0ZXMoKSkge1xuICAgICAgaWYgKHRoaXNbZmllbGQuYXR0ck5hbWVdID09IG51bGwpIHtcbiAgICAgICAgbmV4dFtmaWVsZC5hdHRyTmFtZV0gPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0aGlzW2ZpZWxkLmF0dHJOYW1lXSBpbnN0YW5jZW9mIFRlcm0pIHtcbiAgICAgICAgbmV4dFtmaWVsZC5hdHRyTmFtZV0gPSB0aGlzW2ZpZWxkLmF0dHJOYW1lXS5nZW4oaW5jbHVkZUltcG9ydHMpO1xuICAgICAgfSBlbHNlIGlmIChMaXN0LmlzTGlzdCh0aGlzW2ZpZWxkLmF0dHJOYW1lXSkpIHtcbiAgICAgICAgbGV0IHByZWQgPSBpbmNsdWRlSW1wb3J0cyA/IFIuY29tcGxlbWVudChpc0NvbXBpbGV0aW1lU3RhdGVtZW50KSA6IFIuYm90aChSLmNvbXBsZW1lbnQoaXNJbXBvcnREZWNsYXJhdGlvbiksIFIuY29tcGxlbWVudChpc0NvbXBpbGV0aW1lU3RhdGVtZW50KSk7XG4gICAgICAgIG5leHRbZmllbGQuYXR0ck5hbWVdID0gdGhpc1tmaWVsZC5hdHRyTmFtZV0uZmlsdGVyKHByZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKHRlcm0gPT4gdGVybSBpbnN0YW5jZW9mIFRlcm0gPyB0ZXJtLmdlbihpbmNsdWRlSW1wb3J0cykgOiB0ZXJtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRbZmllbGQuYXR0ck5hbWVdID0gdGhpc1tmaWVsZC5hdHRyTmFtZV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgVGVybSh0aGlzLnR5cGUsIG5leHQpO1xuICB9XG5cbiAgLy8gVE9ETzogcmVtb3ZlXG4gIHZpc2l0KGYpIHtcbiAgICBsZXQgbmV4dCA9IHt9O1xuICAgIGZvciAobGV0IGZpZWxkIG9mIFRlcm1TcGVjLmdldERlc2NlbmRhbnQodGhpcy50eXBlKS5nZXRBdHRyaWJ1dGVzKCkpIHtcbiAgICAgIGlmICh0aGlzW2ZpZWxkLmF0dHJOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIG5leHRbZmllbGQuYXR0ck5hbWVdID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoTGlzdC5pc0xpc3QodGhpc1tmaWVsZC5hdHRyTmFtZV0pKSB7XG4gICAgICAgIG5leHRbZmllbGQuYXR0ck5hbWVdID0gdGhpc1tmaWVsZC5hdHRyTmFtZV0ubWFwKGZpZWxkID0+IGZpZWxkICE9IG51bGwgPyBmKGZpZWxkKSA6IG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFtmaWVsZC5hdHRyTmFtZV0gPSBmKHRoaXNbZmllbGQuYXR0ck5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZXh0ZW5kKG5leHQpO1xuICB9XG5cbiAgLy8gVE9ETzogcmVtb3ZlXG4gIGFkZFNjb3BlKHNjb3BlLCBiaW5kaW5ncywgcGhhc2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy52aXNpdCh0ZXJtID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdGVybS5hZGRTY29wZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdGVybS5hZGRTY29wZShzY29wZSwgYmluZGluZ3MsIHBoYXNlLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXJtO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVE9ETzogcmVtb3ZlXG4gIHJlbW92ZVNjb3BlKHNjb3BlLCBwaGFzZSkge1xuICAgIHJldHVybiB0aGlzLnZpc2l0KHRlcm0gPT4ge1xuICAgICAgaWYgKHR5cGVvZiB0ZXJtLnJlbW92ZVNjb3BlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0ZXJtLnJlbW92ZVNjb3BlKHNjb3BlLCBwaGFzZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGVybTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFRPRE86IHRoaXMgaXMgdmVyeSB3cm9uZ1xuICBsaW5lTnVtYmVyKCkge1xuICAgIGZvciAobGV0IGZpZWxkIG9mIFRlcm1TcGVjLmdldERlc2NlbmRhbnQodGhpcy50eXBlKS5nZXRBdHRyaWJ1dGVzKCkpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpc1tmaWVsZC5hdHRyTmFtZV0gJiYgdGhpc1tmaWVsZC5hdHRyTmFtZV0ubGluZU51bWJlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdGhpc1tmaWVsZC5hdHRyTmFtZV0ubGluZU51bWJlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldExpbmVOdW1iZXIobGluZSkge1xuICAgIGxldCBuZXh0ID0ge307XG4gICAgZm9yIChsZXQgZmllbGQgb2YgVGVybVNwZWMuZ2V0RGVzY2VuZGFudCh0aGlzLnR5cGUpLmdldEF0dHJpYnV0ZXMoKSkge1xuICAgICAgaWYgKHRoaXNbZmllbGQuYXR0ck5hbWVdID09IG51bGwpIHtcbiAgICAgICAgbmV4dFtmaWVsZC5hdHRyTmFtZV0gPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpc1tmaWVsZC5hdHRyTmFtZV0uc2V0TGluZU51bWJlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBuZXh0W2ZpZWxkLmF0dHJOYW1lXSA9IHRoaXNbZmllbGQuYXR0ck5hbWVdLnNldExpbmVOdW1iZXIobGluZSk7XG4gICAgICB9IGVsc2UgaWYgKExpc3QuaXNMaXN0KHRoaXNbZmllbGQuYXR0ck5hbWVdKSkge1xuICAgICAgICBuZXh0W2ZpZWxkLmF0dHJOYW1lXSA9IHRoaXNbZmllbGQuYXR0ck5hbWVdLm1hcChmID0+IGYuc2V0TGluZU51bWJlcihsaW5lKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0W2ZpZWxkLmF0dHJOYW1lXSA9IHRoaXNbZmllbGQuYXR0ck5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFRlcm0odGhpcy50eXBlLCBuZXh0KTtcbiAgfVxufVxuXG5cbi8vIGJpbmRpbmdzXG5leHBvcnQgY29uc3QgaXNCaW5kaW5nV2l0aERlZmF1bHQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkJpbmRpbmdXaXRoRGVmYXVsdFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzQmluZGluZ0lkZW50aWZpZXIgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkJpbmRpbmdJZGVudGlmaWVyXCIgfSk7XG5leHBvcnQgY29uc3QgaXNBcnJheUJpbmRpbmcgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkFycmF5QmluZGluZ1wiIH0pO1xuZXhwb3J0IGNvbnN0IGlzT2JqZWN0QmluZGluZyA9IFIud2hlcmVFcSh7IHR5cGU6IFwiT2JqZWN0QmluZGluZ1wiIH0pO1xuZXhwb3J0IGNvbnN0IGlzQmluZGluZ1Byb3BlcnR5SWRlbnRpZmllciA9IFIud2hlcmVFcSh7IHR5cGU6IFwiQmluZGluZ1Byb3BlcnR5SWRlbnRpZmllclwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzQmluZGluZ1Byb3BlcnR5UHJvcGVydHkgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkJpbmRpbmdQcm9wZXJ0eUlkZW50aWZpZXJcIiB9KTtcblxuLy8gY2xhc3NcbmV4cG9ydCBjb25zdCBpc0NsYXNzRXhwcmVzc2lvbiA9IFIud2hlcmVFcSh7IHR5cGU6IFwiQ2xhc3NFeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNDbGFzc0RlY2xhcmF0aW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJDbGFzc0RlY2xhcmF0aW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNDbGFzc0VsZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkNsYXNzRWxlbWVudFwiIH0pO1xuXG4vLyBtb2R1bGVzXG5leHBvcnQgY29uc3QgaXNNb2R1bGUgPSBSLndoZXJlRXEoeyB0eXBlOiBcIk1vZHVsZVwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzSW1wb3J0ID0gUi53aGVyZUVxKHsgdHlwZTogXCJJbXBvcnRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0ltcG9ydE5hbWVzcGFjZSA9IFIud2hlcmVFcSh7IHR5cGU6IFwiSW1wb3J0TmFtZXNwYWNlXCIgfSk7XG5leHBvcnQgY29uc3QgaXNJbXBvcnRTcGVjaWZpZXIgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkltcG9ydFNwZWNpZmllclwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzRXhwb3J0QWxsRnJvbSA9IFIud2hlcmVFcSh7IHR5cGU6IFwiRXhwb3J0QWxsRnJvbVwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzRXhwb3J0RnJvbSA9IFIud2hlcmVFcSh7IHR5cGU6IFwiRXhwb3J0RnJvbVwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzRXhwb3J0ID0gUi53aGVyZUVxKHsgdHlwZTogXCJFeHBvcnRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0V4cG9ydERlZmF1bHQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkV4cG9ydERlZmF1bHRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0V4cG9ydFNwZWNpZmllciA9IFIud2hlcmVFcSh7IHR5cGU6IFwiRXhwb3J0U3BlY2lmaWVyXCIgfSk7XG5cbi8vIHByb3BlcnR5IGRlZmluaXRpb25cbmV4cG9ydCBjb25zdCBpc01ldGhvZCA9IFIud2hlcmVFcSh7IHR5cGU6IFwiTWV0aG9kXCIgfSk7XG5leHBvcnQgY29uc3QgaXNHZXR0ZXIgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkdldHRlclwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzU2V0dGVyID0gUi53aGVyZUVxKHsgdHlwZTogXCJTZXR0ZXJcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0RhdGFQcm9wZXJ0eSA9IFIud2hlcmVFcSh7IHR5cGU6IFwiRGF0YVByb3BlcnR5XCIgfSk7XG5leHBvcnQgY29uc3QgaXNTaG9ydGhhbmRQcm9wZXJ0eSA9IFIud2hlcmVFcSh7IHR5cGU6IFwiU2hvcnRoYW5kUHJvcGVydHlcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0NvbXB1dGVkUHJvcGVydHlOYW1lID0gUi53aGVyZUVxKHsgdHlwZTogXCJDb21wdXRlZFByb3BlcnR5TmFtZVwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzU3RhdGljUHJvcGVydHlOYW1lID0gUi53aGVyZUVxKHsgdHlwZTogXCJTdGF0aWNQcm9wZXJ0eU5hbWVcIiB9KTtcblxuLy8gbGl0ZXJhbHNcbmV4cG9ydCBjb25zdCBpc0xpdGVyYWxCb29sZWFuRXhwcmVzc2lvbiA9IFIud2hlcmVFcSh7IHR5cGU6IFwiTGl0ZXJhbEJvb2xlYW5FeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNMaXRlcmFsSW5maW5pdHlFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJMaXRlcmFsSW5maW5pdHlFeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNMaXRlcmFsTnVsbEV4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIkxpdGVyYWxOdWxsRXhwcmVzc2lvblwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzTGl0ZXJhbE51bWVyaWNFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJMaXRlcmFsTnVtZXJpY0V4cHJlc3Npb25cIiB9KTtcbmV4cG9ydCBjb25zdCBpc0xpdGVyYWxSZWdFeHBFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJMaXRlcmFsUmVnRXhwRXhwcmVzc2lvblwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzTGl0ZXJhbFN0cmluZ0V4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIkxpdGVyYWxTdHJpbmdFeHByZXNzaW9uXCIgfSk7XG5cbi8vIGV4cHJlc3Npb25zXG5leHBvcnQgY29uc3QgaXNBcnJheUV4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIkFycmF5RXhwcmVzc2lvblwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzQXJyb3dFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJBcnJvd0V4cHJlc3Npb25cIiB9KTtcbmV4cG9ydCBjb25zdCBpc0Fzc2lnbm1lbnRFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJBc3NpZ25tZW50RXhwcmVzc2lvblwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzQmluYXJ5RXhwcmVzc2lvbiA9IFIud2hlcmVFcSh7IHR5cGU6IFwiQmluYXJ5RXhwcmVzc2lvblwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzQ2FsbEV4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIkNhbGxFeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNDb21wdXRlZEFzc2lnbm1lbnRFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJDb21wdXRlZEFzc2lnbm1lbnRFeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNDb21wdXRlZE1lbWJlckV4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIkNvbXB1dGVkTWVtYmVyRXhwcmVzc2lvblwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzQ29uZGl0aW9uYWxFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJDb25kaXRpb25hbEV4cHJlc3Npb25cIiB9KTtcbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uRXhwcmVzc2lvbiA9IFIud2hlcmVFcSh7IHR5cGU6IFwiRnVuY3Rpb25FeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNJZGVudGlmaWVyRXhwcmVzc2lvbiA9IFIud2hlcmVFcSh7IHR5cGU6IFwiSWRlbnRpZmllckV4cHJlc3Npb25cIiB9KTtcbmV4cG9ydCBjb25zdCBpc05ld0V4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIk5ld0V4cHJlc3Npb25cIiB9KTtcbmV4cG9ydCBjb25zdCBpc05ld1RhcmdldEV4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIk5ld1RhcmdldEV4cHJlc3Npb25cIiB9KTtcbmV4cG9ydCBjb25zdCBpc09iamVjdEV4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIk9iamVjdEV4cHJlc3Npb25cIiB9KTtcbmV4cG9ydCBjb25zdCBpc1VuYXJ5RXhwcmVzc2lvbiA9IFIud2hlcmVFcSh7IHR5cGU6IFwiVW5hcnlFeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNTdGF0aWNNZW1iZXJFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJTdGF0aWNNZW1iZXJFeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNUZW1wbGF0ZUV4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIlRlbXBsYXRlRXhwcmVzc2lvblwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzVGhpc0V4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIlRoaXNFeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNVcGRhdGVFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJVcGRhdGVFeHByZXNzaW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNZaWVsZEV4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiBcIllpZWxkRXhwcmVzc2lvblwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzWWllbGRHZW5lcmF0b3JFeHByZXNzaW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJZaWVsZEdlbmVyYXRvckV4cHJlc3Npb25cIiB9KTtcblxuLy8gc3RhdGVtZW50c1xuZXhwb3J0IGNvbnN0IGlzQmxvY2tTdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkJsb2NrU3RhdGVtZW50XCIgfSk7XG5leHBvcnQgY29uc3QgaXNCcmVha1N0YXRlbWVudCA9IFIud2hlcmVFcSh7IHR5cGU6IFwiQnJlYWtTdGF0ZW1lbnRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0NvbnRpbnVlU3RhdGVtZW50ID0gUi53aGVyZUVxKHsgdHlwZTogXCJDb250aW51ZVN0YXRlbWVudFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzQ29tcG91bmRBc3NpZ25tZW50RXhwcmVzc2lvbiA9IFIud2hlcmVFcSh7IHR5cGU6IFwiQ29tcG91bmRBc3NpZ25tZW50RXhwcmVzc2lvblwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzRGVidWdnZXJTdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkRlYnVnZ2VyU3RhdGVtZW50XCIgfSk7XG5leHBvcnQgY29uc3QgaXNEb1doaWxlU3RhdGVtZW50ID0gUi53aGVyZUVxKHsgdHlwZTogXCJEb1doaWxlU3RhdGVtZW50XCIgfSk7XG5leHBvcnQgY29uc3QgaXNFbXB0eVN0YXRlbWVudCA9IFIud2hlcmVFcSh7IHR5cGU6IFwiRW1wdHlTdGF0ZW1lbnRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0V4cHJlc3Npb25TdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkV4cHJlc3Npb25TdGF0ZW1lbnRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0ZvckluU3RhdGVtZW50ID0gUi53aGVyZUVxKHsgdHlwZTogXCJGb3JJblN0YXRlbWVudFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzRm9yT2ZTdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkZvck9mU3RhdGVtZW50XCIgfSk7XG5leHBvcnQgY29uc3QgaXNGb3JTdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkZvclN0YXRlbWVudFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzSWZTdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIklmU3RhdGVtZW50XCIgfSk7XG5leHBvcnQgY29uc3QgaXNMYWJlbGVkU3RhdGVtZW50ID0gUi53aGVyZUVxKHsgdHlwZTogXCJMYWJlbGVkU3RhdGVtZW50XCIgfSk7XG5leHBvcnQgY29uc3QgaXNSZXR1cm5TdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIlJldHVyblN0YXRlbWVudFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzU3dpdGNoU3RhdGVtZW50ID0gUi53aGVyZUVxKHsgdHlwZTogXCJTd2l0Y2hTdGF0ZW1lbnRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc1N3aXRjaFN0YXRlbWVudFdpdGhEZWZhdWx0ID0gUi53aGVyZUVxKHsgdHlwZTogXCJTd2l0Y2hTdGF0ZW1lbnRXaXRoRGVmYXVsdFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzVGhyb3dTdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIlRocm93U3RhdGVtZW50XCIgfSk7XG5leHBvcnQgY29uc3QgaXNUcnlDYXRjaFN0YXRlbWVudCA9IFIud2hlcmVFcSh7IHR5cGU6IFwiVHJ5Q2F0Y2hTdGF0ZW1lbnRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc1RyeUZpbmFsbHlTdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIlRyeUZpbmFsbHlTdGF0ZW1lbnRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc1ZhcmlhYmxlRGVjbGFyYXRpb25TdGF0ZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIlZhcmlhYmxlRGVjbGFyYXRpb25TdGF0ZW1lbnRcIiB9KTtcbmV4cG9ydCBjb25zdCBpc1doaWxlU3RhdGVtZW50ID0gUi53aGVyZUVxKHsgdHlwZTogXCJXaGlsZVN0YXRlbWVudFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzV2l0aFN0YXRlbWVudCA9IFIud2hlcmVFcSh7IHR5cGU6IFwiV2l0aFN0YXRlbWVudFwiIH0pO1xuXG4vLyBvdGhlclxuZXhwb3J0IGNvbnN0IGlzUHJhZ21hID0gUi53aGVyZUVxKHsgdHlwZTogJ1ByYWdtYScgfSk7XG5leHBvcnQgY29uc3QgaXNCbG9jayA9IFIud2hlcmVFcSh7IHR5cGU6IFwiQmxvY2tcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0NhdGNoQ2xhdXNlID0gUi53aGVyZUVxKHsgdHlwZTogXCJDYXRjaENsYXVzZVwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzRGlyZWN0aXZlID0gUi53aGVyZUVxKHsgdHlwZTogXCJEaXJlY3RpdmVcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0Zvcm1hbFBhcmFtZXRlcnMgPSBSLndoZXJlRXEoeyB0eXBlOiBcIkZvcm1hbFBhcmFtZXRlcnNcIiB9KTtcbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uQm9keSA9IFIud2hlcmVFcSh7IHR5cGU6IFwiRnVuY3Rpb25Cb2R5XCIgfSk7XG5leHBvcnQgY29uc3QgaXNGdW5jdGlvbkRlY2xhcmF0aW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJGdW5jdGlvbkRlY2xhcmF0aW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNTY3JpcHQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIlNjcmlwdFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzU3ByZWFkRWxlbWVudCA9IFIud2hlcmVFcSh7IHR5cGU6IFwiU3ByZWFkRWxlbWVudFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzU3VwZXIgPSBSLndoZXJlRXEoeyB0eXBlOiBcIlN1cGVyXCIgfSk7XG5leHBvcnQgY29uc3QgaXNTd2l0Y2hDYXNlID0gUi53aGVyZUVxKHsgdHlwZTogXCJTd2l0Y2hDYXNlXCIgfSk7XG5leHBvcnQgY29uc3QgaXNTd2l0Y2hEZWZhdWx0ID0gUi53aGVyZUVxKHsgdHlwZTogXCJTd2l0Y2hEZWZhdWx0XCIgfSk7XG5leHBvcnQgY29uc3QgaXNUZW1wbGF0ZUVsZW1lbnQgPSBSLndoZXJlRXEoeyB0eXBlOiBcIlRlbXBsYXRlRWxlbWVudFwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzU3ludGF4VGVtcGxhdGUgPSBSLndoZXJlRXEoeyB0eXBlOiBcIlN5bnRheFRlbXBsYXRlXCIgfSk7XG5leHBvcnQgY29uc3QgaXNWYXJpYWJsZURlY2xhcmF0aW9uID0gUi53aGVyZUVxKHsgdHlwZTogXCJWYXJpYWJsZURlY2xhcmF0aW9uXCIgfSk7XG5leHBvcnQgY29uc3QgaXNWYXJpYWJsZURlY2xhcmF0b3IgPSBSLndoZXJlRXEoeyB0eXBlOiBcIlZhcmlhYmxlRGVjbGFyYXRvclwiIH0pO1xuZXhwb3J0IGNvbnN0IGlzRU9GID0gUi53aGVyZUVxKHsgdHlwZTogJ0VPRicgfSk7XG5leHBvcnQgY29uc3QgaXNTeW50YXhEZWNsYXJhdGlvbiA9IFIuYm90aChpc1ZhcmlhYmxlRGVjbGFyYXRpb24sIFIud2hlcmVFcSh7IGtpbmQ6ICdzeW50YXgnIH0pKTtcbmV4cG9ydCBjb25zdCBpc1N5bnRheHJlY0RlY2xhcmF0aW9uID0gUi5ib3RoKGlzVmFyaWFibGVEZWNsYXJhdGlvbiwgUi53aGVyZUVxKHsga2luZDogJ3N5bnRheHJlYycgfSkpO1xuZXhwb3J0IGNvbnN0IGlzRnVuY3Rpb25UZXJtID0gUi5laXRoZXIoaXNGdW5jdGlvbkRlY2xhcmF0aW9uLCBpc0Z1bmN0aW9uRXhwcmVzc2lvbik7XG5leHBvcnQgY29uc3QgaXNGdW5jdGlvbldpdGhOYW1lID0gUi5hbmQoaXNGdW5jdGlvblRlcm0sIFIuY29tcGxlbWVudChSLndoZXJlKHsgbmFtZTogUi5pc05pbCB9KSkpO1xuZXhwb3J0IGNvbnN0IGlzUGFyZW50aGVzaXplZEV4cHJlc3Npb24gPSBSLndoZXJlRXEoeyB0eXBlOiAnUGFyZW50aGVzaXplZEV4cHJlc3Npb24nfSk7XG5leHBvcnQgY29uc3QgaXNFeHBvcnRTeW50YXggPSBSLmJvdGgoaXNFeHBvcnQsIGV4cCA9PiBSLm9yKGlzU3ludGF4RGVjbGFyYXRpb24oZXhwLmRlY2xhcmF0aW9uKSwgaXNTeW50YXhyZWNEZWNsYXJhdGlvbihleHAuZGVjbGFyYXRpb24pKSk7XG5leHBvcnQgY29uc3QgaXNTeW50YXhEZWNsYXJhdGlvblN0YXRlbWVudCA9IFIuYm90aChpc1ZhcmlhYmxlRGVjbGFyYXRpb25TdGF0ZW1lbnQsIGRlY2wgPT4gaXNDb21waWxldGltZURlY2xhcmF0aW9uKGRlY2wuZGVjbGFyYXRpb24pKTtcblxuXG5leHBvcnQgY29uc3QgaXNDb21waWxldGltZURlY2xhcmF0aW9uID0gUi5laXRoZXIoaXNTeW50YXhEZWNsYXJhdGlvbiwgaXNTeW50YXhyZWNEZWNsYXJhdGlvbik7XG5leHBvcnQgY29uc3QgaXNDb21waWxldGltZVN0YXRlbWVudCA9IHRlcm0gPT4ge1xuICByZXR1cm4gKHRlcm0gaW5zdGFuY2VvZiBUZXJtKSAmJiBpc1ZhcmlhYmxlRGVjbGFyYXRpb25TdGF0ZW1lbnQodGVybSkgJiYgaXNDb21waWxldGltZURlY2xhcmF0aW9uKHRlcm0uZGVjbGFyYXRpb24pO1xufTtcbmV4cG9ydCBjb25zdCBpc0ltcG9ydERlY2xhcmF0aW9uID0gUi5laXRoZXIoaXNJbXBvcnQsIGlzSW1wb3J0TmFtZXNwYWNlKTtcbiJdfQ==