"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.gensym = gensym;
let internedMap = new Map();

let counter = 0;

function gensym(name) {
  let prefix = name == null ? "s_" : name + "_";
  let sym = new Symbol(prefix + counter);
  counter++;
  return sym;
}

function Symbol(name) {
  this.name = name;
}
Symbol.prototype.toString = function () {
  return this.name;
};

function makeSymbol(name) {
  if (internedMap.has(name)) {
    return internedMap.get(name);
  } else {
    let sym = new Symbol(name);
    internedMap.set(name, sym);
    return sym;
  }
}

exports.Symbol = makeSymbol;
exports.SymbolClass = Symbol;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zeW1ib2wuanMiXSwibmFtZXMiOlsiZ2Vuc3ltIiwiaW50ZXJuZWRNYXAiLCJNYXAiLCJjb3VudGVyIiwibmFtZSIsInByZWZpeCIsInN5bSIsIlN5bWJvbCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwibWFrZVN5bWJvbCIsImhhcyIsImdldCIsInNldCIsIlN5bWJvbENsYXNzIl0sIm1hcHBpbmdzIjoiOzs7OztRQUlnQkEsTSxHQUFBQSxNO0FBSmhCLElBQUlDLGNBQWMsSUFBSUMsR0FBSixFQUFsQjs7QUFFQSxJQUFJQyxVQUFVLENBQWQ7O0FBRU8sU0FBU0gsTUFBVCxDQUFnQkksSUFBaEIsRUFBc0I7QUFDM0IsTUFBSUMsU0FBU0QsUUFBUSxJQUFSLEdBQWUsSUFBZixHQUFzQkEsT0FBTyxHQUExQztBQUNBLE1BQUlFLE1BQU0sSUFBSUMsTUFBSixDQUFXRixTQUFTRixPQUFwQixDQUFWO0FBQ0FBO0FBQ0EsU0FBT0csR0FBUDtBQUNEOztBQUVELFNBQVNDLE1BQVQsQ0FBZ0JILElBQWhCLEVBQXNCO0FBQ3BCLE9BQUtBLElBQUwsR0FBWUEsSUFBWjtBQUNEO0FBQ0RHLE9BQU9DLFNBQVAsQ0FBaUJDLFFBQWpCLEdBQTRCLFlBQVk7QUFDdEMsU0FBTyxLQUFLTCxJQUFaO0FBQ0QsQ0FGRDs7QUFJQSxTQUFTTSxVQUFULENBQW9CTixJQUFwQixFQUEwQjtBQUN4QixNQUFJSCxZQUFZVSxHQUFaLENBQWdCUCxJQUFoQixDQUFKLEVBQTJCO0FBQ3pCLFdBQU9ILFlBQVlXLEdBQVosQ0FBZ0JSLElBQWhCLENBQVA7QUFDRCxHQUZELE1BRU87QUFDTCxRQUFJRSxNQUFNLElBQUlDLE1BQUosQ0FBV0gsSUFBWCxDQUFWO0FBQ0FILGdCQUFZWSxHQUFaLENBQWdCVCxJQUFoQixFQUFzQkUsR0FBdEI7QUFDQSxXQUFPQSxHQUFQO0FBQ0Q7QUFDRjs7UUFHZUMsTSxHQUFkRyxVO1FBQ1VJLFcsR0FBVlAsTSIsImZpbGUiOiJzeW1ib2wuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgaW50ZXJuZWRNYXAgPSBuZXcgTWFwKCk7XG5cbmxldCBjb3VudGVyID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGdlbnN5bShuYW1lKSB7XG4gIGxldCBwcmVmaXggPSBuYW1lID09IG51bGwgPyBcInNfXCIgOiBuYW1lICsgXCJfXCI7XG4gIGxldCBzeW0gPSBuZXcgU3ltYm9sKHByZWZpeCArIGNvdW50ZXIpO1xuICBjb3VudGVyKys7XG4gIHJldHVybiBzeW07XG59XG5cbmZ1bmN0aW9uIFN5bWJvbChuYW1lKSB7XG4gIHRoaXMubmFtZSA9IG5hbWU7XG59XG5TeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5uYW1lO1xufTtcblxuZnVuY3Rpb24gbWFrZVN5bWJvbChuYW1lKSB7XG4gIGlmIChpbnRlcm5lZE1hcC5oYXMobmFtZSkpIHtcbiAgICByZXR1cm4gaW50ZXJuZWRNYXAuZ2V0KG5hbWUpO1xuICB9IGVsc2Uge1xuICAgIGxldCBzeW0gPSBuZXcgU3ltYm9sKG5hbWUpO1xuICAgIGludGVybmVkTWFwLnNldChuYW1lLCBzeW0pO1xuICAgIHJldHVybiBzeW07XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgbWFrZVN5bWJvbCBhcyBTeW1ib2wsXG4gIFN5bWJvbCBhcyBTeW1ib2xDbGFzc1xufTtcbiJdfQ==